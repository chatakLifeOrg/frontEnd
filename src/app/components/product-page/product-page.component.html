<app-navbar></app-navbar>
<div class="container">
  @defer {
  <app-breadcrumbes></app-breadcrumbes>
  }
  <div class="pageDivider">
    <div class="productPreview">
      <div class="productContainer">
        <div class="productOptions">
          <div class="product">
            <span>
              <svg (click)="addWishList()" width="22" height="20" viewBox="0 0 22 `20" fill="none"
                xmlns="http://www.w3.org/2000/svg" class="wishlist">
                <path
                  d="M6 1C3.239 1 1 3.216 1 5.95C1 8.157 1.875 13.395 10.488 18.69C10.6423 18.7839 10.8194 18.8335 11 18.8335C11.1806 18.8335 11.3577 18.7839 11.512 18.69C20.125 13.395 21 8.157 21 5.95C21 3.216 18.761 1 16 1C13.239 1 11 4 11 4C11 4 8.761 1 6 1Z"
                  stroke="#302F2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </span>
            <img src="../../../assets/shirt.svg" alt="" />
          </div>
          <div class="extraProducts">
            @defer {
            <app-carousal></app-carousal>
            }
          </div>
          <div class="buttons">
            <div class="addTocart fontMontserrat buttonSize">
              <span>Add To Cart</span>
            </div>
            <div class="buyNow fontMontserrat buttonSize">
              <span>Buy Now</span>
            </div>
          </div>
        </div>
      </div>
      <div class="productDetails">
        <div class="influencer">
          <div class="influencerAvatar"></div>
          <span style="font-size: 18px;">influencerName</span>
        </div>
        <span>Half Sleeve T-shirt Full Name</span>
        <div class="ratings">
          @for (item of [1, 2, 3, 4, 5]; track $index;) {
          <img class="ratingImg" (click)="addRating($index,'ratingImg')" src="../../../assets/star.svg" alt="" />
          }
          <span class="fontMontserrat smallerFont" style="color: gray !important">(150 Review)
          </span>
          <span>|</span>
          <span class="fontMontserrat smallerFont">In Stock</span>
        </div>
        <div class="productData">
          <h2 class="fontMontserrat">Product Description :</h2>
          <div class="smallerFont">
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ab provident
            saepe, exercitationem modi quas, praesentium incidunt voluptates
            suscipit iste impedit nemo dolores nisi consectetur, est temporibus
            harum veniam assumenda? Molestiae?
          </div>
          <hr />
        </div>
        <div class="colorPicker">
          <span class="fontMontserrat">Colours:</span>
          <div class="colors">
            @for (item of colors; track $index) {
            <div [style.background]="item?.colour"></div>
            }
          </div>
        </div>
        <div class="chartBox">
          <div (click)="isChartOpen = !isChartOpen" class="sizeChart">
            <span class="fontMontserrat sizeChartButton" style="color: green !important;font-size: 18px;">Size
              Chart</span>
            <img src="../../../assets/arrowDown.svg" alt="" />
          </div>
          @if (isChartOpen) {
          <div class="chartConatiner">
            <mat-grid-list class="Chart sizeAdjustment fontMontserrat smallerFont" cols="4" rowHeight="5Svh">
              <mat-grid-tile class="">Brand Size</mat-grid-tile>
              <mat-grid-tile>Chest(in)</mat-grid-tile>
              <mat-grid-tile>Length(in)</mat-grid-tile>
              <mat-grid-tile>Across Shoulder(in)</mat-grid-tile>
            </mat-grid-list>
            @for (size of sizes; track $index;let odd=$odd) { @if (odd) {
            <mat-grid-list cols="4" style="background: #fff0c8" class="sizeAdjustment fontMontserrat smallerFont"
              rowHeight="4vh">
              <mat-grid-tile>{{ size.size }}</mat-grid-tile>
              <mat-grid-tile>{{ size.range }}</mat-grid-tile>
              <mat-grid-tile>{{ size.value1 }}</mat-grid-tile>
              <mat-grid-tile>{{ size.value2 }}</mat-grid-tile>
            </mat-grid-list>
            }@else {
            <mat-grid-list cols="4" class="sizeAdjustment fontMontserrat smallerFont" rowHeight="4vh">
              <mat-grid-tile>{{ size.size }}</mat-grid-tile>
              <mat-grid-tile>{{ size.range }}</mat-grid-tile>
              <mat-grid-tile>{{ size.value1 }}</mat-grid-tile>
              <mat-grid-tile>{{ size.value2 }}</mat-grid-tile>
            </mat-grid-list>
            } }
          </div>
          }
          <div class="size fontMontserrat">
            <span>Size:</span>
            <div class="sizeBox">
              @for (size of sizes; track $index) {
              <div>{{ size.size }}</div>
              }
            </div>
          </div>
        </div>
        <hr />
        <div class="pricePannel">
          <div class="offerButton fontMontserrat" style="color: white !important">
            <span>Special Price</span>
          </div>
          <div class="price fontMontserrat">
            <span>₹700</span>
            <span class="smallerFont">₹1400</span>
            <span class="smallerFont">50% Off</span>
          </div>
        </div>
        <hr />
        <div class="productSpecs">
          <span class="fontMontserrat">Product Details:</span>
          <div class="productData">
            <mat-grid-list cols="2" style="width: 70vh" class="sizeAdjustment fontMontserrat smallerFont"
              rowHeight="4vh">
              @for (item of productkeys; track $index) {
              <mat-grid-tile class="dataGrid">
                {{ productkeys[$index] }}
              </mat-grid-tile>
              <mat-grid-tile style="color: #595959" class="dataGrid">
                {{ productDetails[productkeys[$index]] }}
              </mat-grid-tile>
              }
            </mat-grid-list>
          </div>
        </div>
        <hr />
        <div>
          <!-- <div class="Address">
            <div class="pincode">
              <img src="../../../assets/DESIGNED BY FREEPIK.svg" alt="" />
              <span class="fontMontserrat smallerFont justDeliver">Deliver to</span>
              <form [formGroup]="pincode">
                <input (input)="getPincodeData()" [readonly]="inputCheck" pattern="[a-zA-Z0-9]{6}" maxlength="6"
                  type="text" [value]="pincode.controls['pincode'].value" formControlName="pincode"
                  placeholder="Enter pincode" class="input" required />
                <img src="../../../assets/arrowDown.svg" alt="" />
              </form>
            </div>
            @if (inputCheck) {
            <div class="savedAddress">
              <span class="fontMontserrat" style="font-size: 12px;color: #B0AAAA !important;">Select from saved
                addresses:</span>
              @for (item of [1,2]; track $index) {
              <div class="address fontMontserrat">
                <span style="font-size: 10px;color: black !important;">Customer Name,</span>
                <span style="font-size: 10px;color: #B0AAAA !important;"> abc xxxx xxx xxxx xx.....</span>
                <span style="font-size: 10px;color: #747070 !important;">HOME</span>
              </div>
              }
            </div>
            <div class="pincode">
              <img src="../../../assets/DESIGNED BY FREEPIK.svg" alt="" />
              <span class="fontMontserrat smallerFont justDeliver">Deliver to</span>
              <form [formGroup]="pincode">
                <input style="width: 130px;" [readonly]="inputCheck" pattern="[a-zA-Z0-9]{6}" maxlength="6" type="text"
                  [value]="pincode.controls['pincode'].value" formControlName="pincode" placeholder="Enter pincode"
                  class="input" required />
                <img src="../../../assets/arrowDown.svg" alt="" />
              </form>
            </div>
            <span class="fontMontserrat" style="margin-left: 30px;font-size: 10px;color: black !important;">Delivery in
              2
              Days, Friday |<span style="font-size: 10px;color: #ED4444;"> ₹60</span></span>
            }
          </div> -->
          <div class="policy fontMontserrat">
            <div class="policyType">
              <img src="../../../assets/Return-01-01 1.svg" alt="">
              <span>Return Delivery</span>
            </div>
            <div class="policyType">
              <img src="../../../assets/COD-01 1.svg" alt="">
              <span>Cash On Delivery</span>
            </div>
            <div class="policyType">
              <img src="../../../assets/Free Delivery 1.svg" alt="">
              <span>Free Delivery</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="lowerSection">
      <section>
        <div class="header">
          <span>Related Products</span>
        </div>
        <div class="productsOptions">
          @for (item of productOptions; track productOptions;let index=$index) {
          <div class="productsPlacement fontMontserrat">
            <div [style.background]="item" class="productCards">
              <img src="../../../assets/shirt.svg" alt="">
              <div class="likeButton" (click)="addWishList(index + 1)">
                <svg width="22" height="20" viewBox="0 0 22 `20" fill="none" xmlns="http://www.w3.org/2000/svg"
                  class="wishlistcard">
                  <path
                    d="M6 1C3.239 1 1 3.216 1 5.95C1 8.157 1.875 13.395 10.488 18.69C10.6423 18.7839 10.8194 18.8335 11 18.8335C11.1806 18.8335 11.3577 18.7839 11.512 18.69C20.125 13.395 21 8.157 21 5.95C21 3.216 18.761 1 16 1C13.239 1 11 4 11 4C11 4 8.761 1 6 1Z"
                    stroke="#302F2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </div>
            </div>
            <div class="summary">
              <span class="title">Half Cut Sleeve T-shirt</span>
              <span class="influencerName">by Influncer name</span>
              <span class="rates">
                ₹700
                <span>₹1400</span>
                <span>50% Off</span>
              </span>
              <div class="ratings lowerRating">
                @for (item of [1, 2, 3, 4, 5]; track [];let nestedIndex=$index) {
                <img class="ratingImg nested" (click)="addRating(index * productOptions.length + nestedIndex,'nested')"
                  src="../../../assets/star.svg" alt="" />
                }
                <span class="fontMontserrat"
                  style="font-size: 12px !important; color: #A9A9A9 !important; font-weight: 600;">(150)</span>
              </div>
            </div>
          </div>
          }
        </div>
      </section>
      <section>
        <div class="rating">
          <span></span>
          <span class="fontMontserrat">Ratings & Reviews</span>
          <div class="star">
            @for (item of [1, 2, 3, 4, 5]; track $index) {
            <img class="ratingImg stars" (click)="addRating($index,'stars')" src="../../../assets/star.svg" alt="" />
            }
            <span>4 out of 5</span>
            <span (click)="openDialogbox()" class="writeReviewButton">Write a Review</span>
          </div>
          <span class="fontMontserrat" style="font-size: 18px;color: #7f7f7f !important;font-weight: normal;">1,150
            Reviews global
            ratings</span>
          <div class="ratingBars">
            @for (item of ratingBarData; track $index) {
            <div class="alignBar fontMontserrat smallerFont">
              <span>{{item.stars}}</span>
              <div class="bar">
                <div [style.width]="item.percentage"></div>
              </div>
              <span>{{item.percentage}}</span>
            </div>
            }
          </div>
        </div>
        <div class="review">
          <div class="reviewImages">
            <span class="fontMontserrat" style="color: #302F2F;font-size: 24px;">Images Uploded by Customers</span>
            <div class="reviewImageBox">
              @for (item of imageArray; track $index) {
              @if($index<4){ <div>
            </div>
            }@else if($index === 5){
            <div id="after"></div>
            }
            }
          </div>
        </div>
        <div class="reviewText">
          <span class="fontMontserrat" style="color: #302F2F;font-size: 24px;">What Our Customers Say</span>
          <div class="reviewProfile">
            <div class="avatar"></div>
            <span class="fontMontserrat" style="color: #302F2F;font-size: 22px;">Customer Name</span>
          </div>
          <div class="reviewStars">
            @for (item of [1, 2, 3, 4, 5]; track $index;) {
            <img class="reviewStar" style="height: 20px !important;" (click)="addRating($index,'reviewStar')"
              src="../../../assets/star.svg" alt="" />
            }
            <span class="fontMontserrat" style="color: #302F2F;font-size: 22px;margin-left: 15px;">Product is Ok</span>
          </div>
          <div class="text">
            <span class="fontMontserrat" style="color: #46A01C !important;font-size: 22px;">Reviewed in India on 26
              January
              2024</span>
            <p class="fontMontserrat" style="color: #444444 !important;font-size: 22px;font-weight: 400;">Colour:
              BLUE MELANGE NAVY BLUE WHITE |
              Size: XL</p>
            <p class="fontMontserrat"
              style="color: #444444 !important;font-size: 22px;width: 64%;font-weight: 400;line-height: 28px;">
              Its looks good on wearing but the cloth is
              very thin & quality is
              mediocre so is good only for hot temperature</p>
          </div>
          <div class="supportButton">
            <div class="fontMontserrat" style="color: #444444 !important;font-size: 16px;">Helpful
            </div>
            <div class="fontMontserrat" style="color: #444444 !important;font-size: 16px;font-weight: 400;">Report
            </div>
          </div>
          <hr style="width: 60%;">
          <span class="fontMontserrat" style="color: #46A01C !important;font-size: 22px;">See More Reviews</span>
        </div>
    </div>
    </section>
  </div>
</div>
</div>